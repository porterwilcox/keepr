(function(e){function t(t){for(var s,o,l=t[0],i=t[1],c=t[2],p=0,d=[];p<l.length;p++)o=l[p],r[o]&&d.push(r[o][0]),r[o]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},r={app:0},n=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("c21b"),r=a.n(s);r.a},"15f9":function(e,t,a){},"1be2":function(e,t,a){"use strict";var s=a("b8d4"),r=a.n(s);r.a},4026:function(e,t,a){},5662:function(e,t,a){"use strict";var s=a("4026"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("router-view")],1)},n=[],o=(a("034f"),a("2877")),l={},i=Object(o["a"])(l,r,n,!1,null,null,null);i.options.__file="App.vue";var c=i.exports,u=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("navigation-bar"),a("v-container",{attrs:{"mt-5":"","pb-5":""}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},e._l(e.keeps,function(e){return a("v-flex",{key:e.id,attrs:{xs12:"",sm12:"",md3:"","pa-1":""}},[a("keeps",{attrs:{keep:e}})],1)})),e.browsing?a("v-layout",{attrs:{"justify-center":"","mt-5":""}},[a("v-btn",{staticClass:"white--text",attrs:{color:"cyan lighten-3",round:""},on:{click:function(t){e.createAccount()}}},[e._v("Sign up now to see more!")])],1):28==e.lastGetCount?a("v-layout",{attrs:{"justify-center":"","pt-5":"","mt-5":""}},[a("v-btn",{staticClass:"white--text",attrs:{round:"",color:"cyan lighten-3"},on:{click:function(t){e.getKeeps(e.keeps[e.keeps.length-1].id)}}},[e._v("load more")])],1):a("v-layout",{attrs:{"justify-center":"","mt-5":""}},[a("v-chip",{attrs:{color:"cyan",outline:"",close:""},model:{value:e.caughtUp,callback:function(t){e.caughtUp=t},expression:"caughtUp"}},[e._v("You're all caught up!")])],1)],1),a("bottom-bar")],1)},d=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-toolbar",{attrs:{app:"",fixed:"",color:"cyan"}},[a("v-btn",{attrs:{flat:"",href:"#",icon:""}},[a("v-icon",{attrs:{color:"grey lighten-5",large:""}},[e._v("fab fa-korvue")])],1),a("v-toolbar-items",[a("v-text-field",{attrs:{"prepend-inner-icon":"search","single-line":"",clearable:"",disabled:"",placeholder:"work in progress"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-toolbar-title",{attrs:{"ml-5":""}},[e._v("keepr")]),a("v-spacer"),e.user.id?a("v-toolbar-items",[a("v-tooltip",{attrs:{bottom:""}},[a("create-keep",{attrs:{slot:"activator"},slot:"activator"}),a("span",[e._v("Create a Keep")])],1),a("v-tooltip",{attrs:{bottom:""}},[a("profile",{attrs:{slot:"activator"},slot:"activator"}),a("span",[e._v("View Profile")])],1),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",fab:""},on:{click:function(t){e.logout()}},slot:"activator"},[a("v-icon",[e._v("fa-sign-out-alt")])],1),a("span",[e._v("Logout")])],1)],1):a("v-toolbar-items",[a("v-layout",{attrs:{"full-height":"","align-center":""}},[a("v-btn",{staticClass:"white--text",attrs:{flat:"",round:"",large:""},on:{click:function(t){e.createAccount()}}},[e._v("create accout")])],1)],1)],1)},h=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"50vw",transition:"slide-y-transition"},model:{value:e.createKeep,callback:function(t){e.createKeep=t},expression:"createKeep"}},[a("v-btn",{attrs:{slot:"activator",flat:"",fab:""},slot:"activator"},[a("v-icon",[e._v("fas fa-pencil-alt")])],1),a("v-card",[a("v-toolbar",{attrs:{card:"",color:"amber darken-4"}},[a("v-toolbar-title",[e._v("Create a Keep")]),a("v-spacer"),a("v-btn",{attrs:{fab:"",flat:""},on:{click:function(t){e.createKeep=!1}}},[a("v-icon",[e._v("close")])],1)],1),a("form",{staticClass:"ma-3",on:{submit:function(t){return t.preventDefault(),e.submitKeep(t)}}},[a("v-text-field",{attrs:{color:"amber darken-4","single-line":"",clearable:"",placeholder:"title",counter:"50",maxlength:"50"},on:{input:function(t){e.validate()}},model:{value:e.newKeep.name,callback:function(t){e.$set(e.newKeep,"name",t)},expression:"newKeep.name"}}),a("v-text-field",{attrs:{color:"amber darken-4",clearable:"",placeholder:"text-content",counter:"250",maxlength:"250"},on:{input:function(t){e.validate()}},model:{value:e.newKeep.description,callback:function(t){e.$set(e.newKeep,"description",t)},expression:"newKeep.description"}}),a("v-layout",{attrs:{id:"w"}},[a("v-checkbox",{attrs:{slot:"activator",label:"Private",color:"amber darken-4"},slot:"activator",model:{value:e.newKeep.isPrivate,callback:function(t){e.$set(e.newKeep,"isPrivate",t)},expression:"newKeep.isPrivate"}}),a("v-tooltip",{attrs:{right:""}},[a("v-icon",{staticClass:"mt-4",attrs:{slot:"activator",small:""},slot:"activator"},[e._v("far fa-question-circle")]),a("span",[e._v("Private keeps can only be viewed by other Keepr users."),a("br"),e._v("Public keeps can be viewed by anyone who's browsing Keepr.")])],1)],1),a("v-checkbox",{attrs:{label:"Include Image",color:"amber darken-4"},on:{change:function(t){e.validate()}},model:{value:e.hasImage,callback:function(t){e.hasImage=t},expression:"hasImage"}}),e.hasImage?a("v-text-field",{attrs:{type:"url",color:"amber darken-4",clearable:"",placeholder:"image url"},on:{input:function(t){e.validate()}},model:{value:e.newKeep.img,callback:function(t){e.$set(e.newKeep,"img",t)},expression:"newKeep.img"}}):e._e(),a("v-layout",{attrs:{"justify-center":""}},[e.readyToSubmit?a("v-btn",{attrs:{type:"submit",color:"amber darken-4"}},[e._v("submit")]):e._e()],1)],1)],1)],1)},m=[],g={name:"createKeep",data(){return{createKeep:!1,hasImage:!1,newKeep:{name:"",description:"",isPrivate:!1,img:""},readyToSubmit:!1}},computed:{user(){return this.$store.state.user}},methods:{validate(){this.newKeep.name.length&&this.newKeep.description.length&&(!this.hasImage||this.newKeep.img.length?this.readyToSubmit=!0:this.readyToSubmit=!1)},submitKeep(){let e=this.newKeep;e.isPrivate?e.isPrivate=1:e.isPrivate=0,e.userId=this.user.id,this.$store.dispatch("postKeep",e),this.newKeep={name:"",description:"",isPrivate:!1,img:""},this.readyToSubmit=!1,this.hasImage=!1,this.createKeep=!1}}},b=g,k=(a("9970"),Object(o["a"])(b,f,m,!1,null,null,null));k.options.__file="CreateKeep.vue";var w=k.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:"",transition:"slide-y-transition"},model:{value:e.showProfile,callback:function(t){e.showProfile=t},expression:"showProfile"}},[a("v-btn",{attrs:{slot:"activator",flat:"",fab:""},slot:"activator"},[a("v-icon",[e._v("fas fa-user")])],1),a("v-toolbar",{attrs:{app:"",color:"amber darken-4"}},[a("v-spacer"),a("v-btn",{attrs:{fab:"",flat:""},on:{click:function(t){e.showProfile=!e.showProfile}}},[a("v-icon",[e._v("close")])],1)],1),a("v-container",{staticClass:"blue-grey lighten-5",attrs:{id:"h2","fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":"","align-start":"",column:""}},[a("h1",{staticClass:"mt-5 pa-1"},[e._v(e._s(e.user.username))]),a("v-expansion-panel",{staticClass:"mt-3"},[a("v-expansion-panel-content",{staticClass:"blue-grey lighten-4 mb-3",attrs:{id:"h-exp"}},[a("h3",{staticClass:"pa-2",attrs:{slot:"header"},slot:"header"},[e._v("you've authored "+e._s(e.usersKeeps.length)+" keeps")]),a("v-layout",{attrs:{"fill-height":"","align-center":"",wrap:""}},e._l(e.usersKeeps,function(e){return a("v-flex",{key:e.id,attrs:{xs12:"",sm12:"",md2:"",lg3:"","pa-1":""}},[a("keeps",{attrs:{keep:e,fromProfile:!0}})],1)}))],1)],1),a("h2",{staticClass:"pa-3 mt-5"},[e._v("your vaults")]),a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{"justify-start":"","align-start":"",wrap:""}},[e._l(e.usersVaults,function(t,s){return a("v-flex",{key:t.id,staticStyle:{"max-width":"fit-content"},attrs:{"pa-1":""}},[a("vaults",{attrs:{vault:t,i:s+3,user:e.user}})],1)}),a("v-flex",{attrs:{"pa-1":"","mb-3":""}},[a("v-card",{attrs:{color:"amber darken-4",width:"20vw",height:"10vw"}},[e.createVault?a("v-layout",{attrs:{"fill-height":"",column:"","align-center":"","justify-center":""}},[a("form",[e.showDescription?a("v-card",{staticClass:"pl-2 pr-2 mt-2",attrs:{raised:"",color:"orange"}},[e.newVault.description.length<1?a("v-text-field",{attrs:{"prepend-icon":"fas fa-backward",color:"cyan lighten-3","single-line":"",label:"description"},on:{"click:prepend":function(t){e.showDescription=!e.showDescription}},model:{value:e.newVault.description,callback:function(t){e.$set(e.newVault,"description",t)},expression:"newVault.description"}}):a("v-text-field",{attrs:{"append-icon":"fas fa-share-square","prepend-icon":"fas fa-backward",color:"cyan lighten-3","single-line":""},on:{"click:append":function(t){e.submitVault()},"click:prepend":function(t){e.showDescription=!e.showDescription}},model:{value:e.newVault.description,callback:function(t){e.$set(e.newVault,"description",t)},expression:"newVault.description"}})],1):a("v-card",{staticClass:"pl-2 pr-2 mt-2",attrs:{raised:"",color:"orange"}},[e.newVault.name.length<1?a("v-text-field",{attrs:{color:"cyan lighten-3","single-line":"",label:"name"},model:{value:e.newVault.name,callback:function(t){e.$set(e.newVault,"name",t)},expression:"newVault.name"}}):a("v-text-field",{attrs:{"append-icon":"fas fa-forward",color:"cyan lighten-3","single-line":""},on:{"click:append":function(t){e.showDescription=!e.showDescription}},model:{value:e.newVault.name,callback:function(t){e.$set(e.newVault,"name",t)},expression:"newVault.name"}})],1)],1),a("div",[a("v-btn",{attrs:{fab:"",small:"",color:"orange darken-3"},on:{click:function(t){e.createVault=!e.createVault}}},[a("v-icon",[e._v("close")])],1)],1)]):a("v-layout",{attrs:{"fill-height":"",column:"","align-center":"","justify-center":""}},[a("h1",[e._v("Create a Vault")]),a("v-btn",{attrs:{icon:"",color:"blue-grey lighten-4",small:""},on:{click:function(t){e.createVault=!e.createVault}}},[a("v-icon",{attrs:{large:""}},[e._v("fas fa-plus-circle")])],1)],1)],1)],1)],2)],1)],1)],1)],1)},y=[],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{on:{mouseenter:function(t){e.showActions(e.keep.id)},mouseleave:function(t){e.hideActions(e.keep.id)}}},[e.fromVault?a("v-footer",{attrs:{absolute:"",card:"",color:"transparent"}},[a("v-spacer"),a("v-btn",{attrs:{fab:"",flat:"",small:""},on:{click:function(t){e.removeKeepFromVault(e.keep.id)}}},[a("v-icon",[e._v("far fa-times-circle")])],1)],1):e._e(),e.keep.img.length>0?a("v-img",{staticClass:"white--text",attrs:{src:e.keep.img}},[a("v-layout",{attrs:{column:"","fill-height":""}},[a("v-spacer"),a("v-card-title",{staticClass:"img-title"},[e._v(e._s(e.keep.name))])],1)],1):e._e(),e.keep.img.length<1?a("v-card-title",[e._v(e._s(e.keep.name))]):e._e(),a("v-card-text",[e._v(e._s(e.keep.description))]),a("v-card-actions",{staticClass:"buttons",attrs:{id:e.fromProfile?"P"+e.keep.id:e.fromVault?"VK"+e.keep.id:e.keep.id}},[a("view-keep",{attrs:{keep:e.keep}}),e.user.id?a("add-keep-to-vault",{attrs:{keep:e.keep}}):e._e(),a("v-speed-dial",{attrs:{direction:"right",transition:"slide-y-reverse-transition"},model:{value:e.shareExpand,callback:function(t){e.shareExpand=t},expression:"shareExpand"}},[a("v-btn",{attrs:{slot:"activator",color:"amber darken-4",fab:"",flat:"",small:""},slot:"activator",model:{value:e.shareExpand,callback:function(t){e.shareExpand=t},expression:"shareExpand"}},[a("v-icon",[e._v("fa-share")]),a("v-icon",[e._v("close")])],1),a("v-btn",{staticClass:"ml-2",attrs:{fab:"",small:"",color:"blue"}},[a("v-icon",[e._v("fab fa-facebook-f")])],1),e.keep.img.length>0?a("v-btn",{attrs:{fab:"",small:"",color:"#e62774"}},[a("v-icon",[e._v("fab fa-instagram")])],1):a("v-btn",{staticClass:"white--text",attrs:{fab:"",small:"",color:"black"}},[a("v-icon",[e._v("fab fa-twitter")])],1)],1),a("v-spacer"),e.keep.userId==e.user.id?a("v-btn",{attrs:{fab:"",flat:"",small:"",color:"amber darken-4"},on:{click:function(t){e.deleteKeep(e.keep.id,e.keep.userId)}}},[a("v-icon",[e._v("fas fa-trash-alt")])],1):e._e()],1)],1)},K=[],V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{transition:"scale-transition",width:"fit-content"},model:{value:e.viewKeep,callback:function(t){e.viewKeep=t},expression:"viewKeep"}},[a("v-btn",{attrs:{slot:"activator",flat:"",fab:"",small:"",color:"amber darken-4"},on:{click:function(t){e.viewed()}},slot:"activator"},[e._v("view")]),a("v-layout",{attrs:{"justify-center":""}},[e.keep.img.length>0?a("v-card",{attrs:{width:"80vw",height:"80vh"}},[a("v-toolbar",{attrs:{card:"",color:"cyan lighten-4"}},[a("v-layout",{attrs:{column:"","fill-height":"","justify-center":"","align-start":""}},[a("v-btn",{attrs:{flat:"",small:""}},[e._v(e._s(e.author.username))]),a("v-card-title",{staticClass:"img-title"},[e._v(e._s(e.keep.name))])],1),a("v-spacer"),a("v-toolbar-items",[a("v-speed-dial",{attrs:{direction:"left",transition:"slide-x-reverse-transition"},model:{value:e.shareExpand,callback:function(t){e.shareExpand=t},expression:"shareExpand"}},[a("v-btn",{attrs:{slot:"activator",color:"amber darken-3",fab:""},slot:"activator",model:{value:e.shareExpand,callback:function(t){e.shareExpand=t},expression:"shareExpand"}},[a("v-icon",[e._v("fa-share")]),a("v-icon",[e._v("close")])],1),0==e.keep.img.length?a("v-btn",{staticClass:"white--text",attrs:{fab:"",small:"",color:"black"}},[a("v-icon",[e._v("fab fa-twitter")])],1):a("v-btn",{attrs:{fab:"",small:"",color:"#e62774"}},[a("v-icon",[e._v("fab fa-instagram")])],1),a("v-btn",{attrs:{fab:"",small:"",color:"blue"}},[a("v-icon",[e._v("fab fa-facebook-f")])],1)],1),a("v-chip",{attrs:{outline:"",color:"amber darken-4"}},[e._v("\n                        "+e._s(e.keep.views)),a("v-icon",{attrs:{right:""}},[e._v("fa-eye")])],1)],1)],1),e.keep.img.length>0?a("v-img",{staticClass:"white--text",attrs:{src:e.keep.img,width:"100%",height:"100%"}}):e._e()],1):a("v-card",{attrs:{width:"40vw",height:"fit-content"}},[a("v-toolbar",{attrs:{card:"",color:"cyan lighten-4"}},[a("v-layout",{attrs:{column:"","fill-height":"","justify-center":"","align-start":""}},[a("v-btn",{attrs:{flat:"",small:""}},[e._v(e._s(e.author.username))]),a("v-card-title",{staticClass:"img-title"},[e._v(e._s(e.keep.name))])],1),a("v-spacer"),a("v-toolbar-items",[a("v-speed-dial",{attrs:{direction:"left",transition:"slide-x-reverse-transition"},model:{value:e.shareExpand,callback:function(t){e.shareExpand=t},expression:"shareExpand"}},[a("v-btn",{attrs:{slot:"activator",color:"amber darken-3",fab:""},slot:"activator",model:{value:e.shareExpand,callback:function(t){e.shareExpand=t},expression:"shareExpand"}},[a("v-icon",[e._v("fa-share")]),a("v-icon",[e._v("close")])],1),0==e.keep.img.length?a("v-btn",{staticClass:"white--text",attrs:{fab:"",small:"",color:"black"}},[a("v-icon",[e._v("fab fa-twitter")])],1):a("v-btn",{attrs:{fab:"",small:"",color:"#e62774"}},[a("v-icon",[e._v("fab fa-instagram")])],1),a("v-btn",{attrs:{fab:"",small:"",color:"blue"}},[a("v-icon",[e._v("fab fa-facebook-f")])],1)],1),a("v-chip",{attrs:{outline:"",color:"amber darken-4"}},[e._v("\n                        "+e._s(e.keep.views)),a("v-icon",{attrs:{right:""}},[e._v("fa-eye")])],1)],1)],1)],1)],1)],1)},C=[],U={name:"viewKeep",data(){return{viewKeep:!1,shareExpand:!1}},props:["keep"],computed:{author(){return this.$store.state.author}},methods:{viewed(){this.$store.dispatch("getAuthor",this.keep.userId),this.$store.dispatch("incrementViews",this.keep.id),this.keep.views++}}},j=U,E=Object(o["a"])(j,V,C,!1,null,null,null);E.options.__file="ViewKeep.vue";var P=E.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:""},model:{value:e.openMenu,callback:function(t){e.openMenu=t},expression:"openMenu"}},[a("v-btn",{attrs:{slot:"activator",flat:"",fab:"",small:"",color:"amber darken-4"},slot:"activator"},[e._v("keep")]),a("v-layout",{attrs:{id:"dialog",row:"","justify-center":""}},[a("v-flex",{attrs:{md6:""}},[a("v-card",[a("v-card-text",e._l(e.usersVaults,function(t,s){return a("v-checkbox",{key:t.id,attrs:{label:t.name,color:s%3?s%2?"teal darken-3":"cyan darken-3":"light-blue darken-3"},model:{value:e.vaults[t.id],callback:function(a){e.$set(e.vaults,t.id,a)},expression:"vaults[vault.id]"}})})),a("v-toolbar",{attrs:{card:""}},[a("v-spacer"),a("v-btn",{attrs:{round:"",color:"cyan lighten-4"},on:{click:function(t){e.openMenu=!e.openMenu}}},[e._v("cancel")]),a("v-btn",{attrs:{round:"",color:"amber darken-4"},on:{click:function(t){e.addKeepToVaults()}}},[e._v("add to vault")])],1)],1)],1)],1)],1)},O=[],A={name:"addKeepToVault",props:["keep"],data(){return{openMenu:!1,vaults:{}}},computed:{usersVaults(){return this.$store.state.usersVaults}},watch:{openMenu(e){for(let t=0;t<this.usersVaults.length;t++){let e=this.usersVaults[t];this.$data.vaults[e.id]=!1}}},methods:{addKeepToVaults(){let e=Object.keys(this.vaults),t=Object.values(this.vaults);for(let a=0;a<t.length;a++)if(t[a]){let t={userId:this.usersVaults[a].userId,vaultId:e[a],keepId:this.keep.id};this.$store.dispatch("addKeepToVault",t)}this.openMenu=!1}}},S=A,M=(a("ac3c"),Object(o["a"])(S,I,O,!1,null,"63890407",null));M.options.__file="AddKeepToVault.vue";var D=M.exports,T={name:"keeps",data(){return{shareExpand:!1,openMenu:!1}},props:["keep","fromProfile","fromVault","vaultId"],components:{ViewKeep:P,AddKeepToVault:D},computed:{user(){return this.$store.state.user}},methods:{showActions(e){this.fromProfile?$(`#P${e}`).css({display:"flex"}):$(`#${e}`).css({display:"flex"})},hideActions(e){this.fromProfile||$(`#${e}`).css({display:"none"}),$(`#P${e}`).css({display:"none"}),this.shareExpand=!1},deleteKeep(e,t){let a={id:e,userId:t,sendingUserId:this.user.id};this.$store.dispatch("deleteKeep",a)},removeKeepFromVault(e){let t={keepId:e,vaultId:this.vaultId};this.$store.dispatch("removeKeepFromVault",t)}}},F=T,B=(a("f701"),Object(o["a"])(F,x,K,!1,null,"e7ae5d30",null));B.options.__file="Keeps.vue";var G=B.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{on:{mouseenter:function(t){e.showDelete(e.vault.id)},mouseleave:function(t){e.hideDelete(e.vault.id)}}},[a("v-card",{attrs:{color:e.i%3?e.i%2?"teal darken-3":"cyan darken-3":"light-blue darken-3",width:"20vw",height:"10vw"}},[a("v-toolbar",{attrs:{height:"0vh",absolute:"",card:""}},[a("v-spacer"),a("v-btn",{staticClass:"mt-5 buttons",attrs:{id:"vault"+e.vault.id,icon:""},on:{click:function(t){e.deleteVault(e.vault.id)}}},[a("v-icon",[e._v("delete")])],1)],1),a("v-layout",{staticStyle:{cursor:"pointer"},attrs:{"fill-height":"",column:"","align-center":"","justify-space-around":""},on:{click:function(t){e.openVault=!e.openVault}}},[a("h1",{staticClass:"white--text"},[e._v(e._s(e.vault.name))]),a("h2",[e._v(e._s(e.vault.description))])])],1),a("vault-view",{attrs:{open:e.openVault,vault:e.vault,i:e.i}})],1)},R=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:"",transition:"scale-transition"},model:{value:e.openVault,callback:function(t){e.openVault=t},expression:"openVault"}},[a("v-toolbar",{attrs:{app:"",color:e.i%3?e.i%2?"teal darken-3":"cyan darken-3":"light-blue darken-3"}},[a("h2",{staticClass:"white--text"},[e._v(e._s(e.vault.name.toUpperCase())+" has "+e._s(e.vaultsKeeps.length)+" keeps")]),a("v-spacer"),a("v-subheader",[e._v(e._s(e.vault.description))]),a("v-spacer"),a("v-btn",{attrs:{fab:"",flat:""},on:{click:function(t){e.openVault=!e.openVault}}},[a("v-icon",[e._v("close")])],1)],1),a("v-container",{class:e.i%3?e.i%2?"teal darken-1":"cyan darken-1":"light-blue darken-1",attrs:{id:"h3","fill-height":"",fluid:""}},[e.vaultsKeeps.length?a("v-layout",{attrs:{"justify-start":"","align-center":"",wrap:"","mt-5":"","pa-5":""}},e._l(e.vaultsKeeps,function(t){return a("v-flex",{key:t.id,attrs:{"pa-1":"",md4:""}},[a("keeps",{attrs:{keep:t,fromVault:!0,vaultId:e.vault.id}})],1)})):a("v-layout",{attrs:{"justify-center":"","align-center":"","mt-5":""}},[a("v-card",{staticClass:"transparent",attrs:{width:"400px",height:"450px"}},[a("v-img",{attrs:{src:"https://github.com/porterwilcox/keepr/blob/master/wwwsrc/src/assets/empty.jpg?raw=true"}}),a("v-layout",{attrs:{"justify-center":""}},[a("v-btn",{attrs:{round:"",flat:""},on:{click:function(t){e.openVault=!e.openVault}}},[e._v("Start browsing now ")])],1)],1)],1)],1)],1)},J=[],N={name:"viewVault",props:["open","vault","i"],data(){return{openVault:!1}},watch:{open(e){this.openVault=!0,this.$store.dispatch("getVaultsKeeps",this.vault.id)}},computed:{vaultsKeeps(){return this.$store.state.vaultsKeeps}},components:{Keeps:G}},H=N,Y=(a("5f79"),Object(o["a"])(H,q,J,!1,null,null,null));Y.options.__file="ViewVault.vue";var z=Y.exports,Q={name:"vaults",props:["vault","i","user"],data(){return{openVault:!1}},components:{VaultView:z},methods:{showDelete(e){$(`#vault${e}`).css({visibility:"visible"})},hideDelete(e){$(`#vault${e}`).css({visibility:"hidden"})},deleteVault(e){let t={id:e,userId:this.vault.userId,sendingUserId:this.user.id};this.$store.dispatch("deleteVault",t)}}},W=Q,X=(a("5662"),Object(o["a"])(W,L,R,!1,null,"21729cad",null));X.options.__file="Vaults.vue";var Z=X.exports,ee={name:"profile",data(){return{showProfile:!1,createVault:!1,showDescription:!1,newVault:{name:"",description:""}}},computed:{user(){return this.$store.state.user},usersKeeps(){return this.$store.state.usersKeeps},usersVaults(){return this.$store.state.usersVaults}},components:{Keeps:G,Vaults:Z},methods:{submitVault(){let e=this.newVault;e.userId=this.user.id,this.$store.dispatch("createVault",e),this.createVault=!1,this.showDescription=!1,this.newVault={name:"",description:""}}}},te=ee,ae=(a("1be2"),Object(o["a"])(te,_,y,!1,null,null,null));ae.options.__file="Profile.vue";var se=ae.exports,re={name:"navigationBar",data(){return{search:""}},computed:{user(){return this.$store.state.user}},components:{CreateKeep:w,Profile:se},methods:{logout(){this.$store.dispatch("logout")},createAccount(){this.$store.dispatch("createAccount")}}},ne=re,oe=Object(o["a"])(ne,v,h,!1,null,null,null);oe.options.__file="NavigationBar.vue";var le=oe.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{attrs:{app:"",fixed:"",color:"cyan lighten-3"}},[a("v-spacer"),a("v-subheader",[e._v("built by iamporter")])],1)},ce=[],ue={name:"bottomBar"},pe=ue,de=Object(o["a"])(pe,ie,ce,!1,null,null,null);de.options.__file="BottomBar.vue";var ve=de.exports,he={name:"home",props:["browsing"],data(){return{caughtUp:!0}},mounted(){if(this.browsing)return this.$store.dispatch("getKeeps","first");this.$store.state.user.id?this.$store.dispatch("getKeeps","first"):this.$router.push({name:"login"})},computed:{keeps(){return this.$store.state.keeps},lastGetCount(){return this.$store.state.lastGetCount}},components:{NavigationBar:le,Keeps:G,BottomBar:ve},methods:{getKeeps(e){this.$store.dispatch("getKeeps",e)},createAccount(){this.$store.dispatch("createAccount")}}},fe=he,me=Object(o["a"])(fe,p,d,!1,null,null,null);me.options.__file="Home.vue";var ge=me.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",{attrs:{id:"h"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-flex",{attrs:{sm8:"",md4:""}},[a("div",{staticClass:"login"},[e.loginForm?a("v-card",[a("v-toolbar",{attrs:{card:"",color:"cyan lighten-3"}},[a("v-icon",{attrs:{color:"grey lighten-5",large:""}},[e._v("fab fa-korvue")]),a("v-toolbar-title",[e._v("Login")]),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{flat:"",round:""},on:{click:function(t){e.loginForm=!e.loginForm}}},[e._v("\n                                or sign up\n                            ")])],1),a("form",{staticClass:"ma-3",on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[a("v-text-field",{attrs:{"prepend-icon":"mail",color:"cyan lighten-3","single-line":"",clearable:"",placeholder:"email"},model:{value:e.creds.email,callback:function(t){e.$set(e.creds,"email",t)},expression:"creds.email"}}),a("v-text-field",{attrs:{type:"password","prepend-icon":"lock",color:"cyan lighten-3","single-line":"",clearable:"",placeholder:"password"},model:{value:e.creds.password,callback:function(t){e.$set(e.creds,"password",t)},expression:"creds.password"}}),e.creds.password.length>5?a("v-btn",{attrs:{type:"submit",color:"cyan lighten-3"}},[e._v("login")]):e._e()],1)],1):a("v-card",[a("v-toolbar",{attrs:{card:""}},[a("v-icon",{attrs:{color:"cyan lighten-3",large:""}},[e._v("fab fa-korvue")]),a("v-toolbar-title",[e._v("Create Accout")]),a("v-spacer"),a("v-btn",{staticClass:"cyan--text",attrs:{flat:"",round:""},on:{click:function(t){e.loginForm=!e.loginForm}}},[e._v("\n                                or login\n                            ")])],1),a("form",{staticClass:"ma-3",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("v-text-field",{attrs:{"prepend-icon":"person",color:"cyan lighten-3","single-line":"",clearable:"",placeholder:"username"},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}}),a("v-text-field",{attrs:{"prepend-icon":"mail",color:"cyan lighten-3","single-line":"",clearable:"",placeholder:"email"},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}}),a("v-text-field",{attrs:{type:"password","prepend-icon":"lock",color:"cyan lighten-3","single-line":"",clearable:"",placeholder:"password"},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}}),e.newUser.password.length>5?a("v-text-field",{attrs:{type:"password","prepend-icon":"check",color:"cyan lighten-3","single-line":"",clearable:"",placeholder:"confirm password"},on:{input:function(t){e.passwordConfirm()}},model:{value:e.newUser.password2,callback:function(t){e.$set(e.newUser,"password2",t)},expression:"newUser.password2"}}):e._e(),e.passwordsMatch?a("v-btn",{attrs:{type:"submit",color:"cyan lighten-3"}},[e._v("register")]):e._e()],1)],1)],1),a("v-layout",{attrs:{"pt-3":""}},[a("router-link",{staticClass:"cyan--text",attrs:{to:{name:"home",params:{browsing:!0}}}},[e._v("I want to browse keepr without an account.")])],1)],1)],1)],1)],1)},ke=[],we={name:"login",mounted(){this.$store.dispatch("authenticate"),"true"==this.signUp&&(this.loginForm=!1)},data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:"",password2:""},passwordsMatch:!1}},props:["signUp"],methods:{passwordConfirm(){if(this.newUser.password==this.newUser.password2)return this.passwordsMatch=!0;this.passwordsMatch=!1},register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},_e=we,ye=(a("a129"),Object(o["a"])(_e,be,ke,!1,null,"3ee4a809",null));ye.options.__file="Login.vue";var xe=ye.exports;s["default"].use(u["a"]);var Ke=new u["a"]({routes:[{path:"/",name:"home",component:ge,props:!0},{path:"/login",name:"login",component:xe,props:!0}]}),Ve=a("2f62"),$e=a("bc3a"),Ce=a.n($e);s["default"].use(Ve["a"]);let Ue=!window.location.host.includes("localhost"),je=Ue?"//keepr208.herokuapp.com/":"//localhost:5000/",Ee=Ce.a.create({baseURL:je+"api/",timeout:2e3,withCredentials:!0}),Pe=Ce.a.create({baseURL:je+"account/",timeout:2e3,withCredentials:!0});const Ie={user:{},keeps:[],usersKeeps:[],author:{},lastGetCount:0,usersVaults:[],vaultsKeeps:[]};var Oe=new Ve["a"].Store({state:{user:{},keeps:[],usersKeeps:[],author:{},lastGetCount:0,usersVaults:[],vaultsKeeps:[]},mutations:{resetState(e,t){let a=Object.keys(t),s=Object.values(t);for(let r=0;r<s.length;r++)e[a[r]]=s[r]},setUser(e,t){e.user=t},setAuthor(e,t){e.author=t},setKeeps(e,t){let a=e.keeps.concat(t);e.keeps=a,e.lastGetCount=t.length},addKeep(e,t){e.keeps.unshift(t)},setUsersKeeps(e,t){e.usersKeeps=t},removeKeep(e,t){for(let a=0;a<e.keeps.length;a++){let s=e.keeps[a];if(s.id==t){e.keeps.splice(a,1);break}}for(let a=0;a<e.usersKeeps.length;a++){let s=e.usersKeeps[a];if(s.id==t){e.usersKeeps.splice(a,1);break}}},setUsersVaults(e,t){e.usersVaults=t},addVault(e,t){e.usersVaults.push(t)},removeVault(e,t){for(let a=0;a<e.usersVaults.length;a++){let s=e.usersVaults[a];if(s.id==t){e.usersVaults.splice(a,1);break}}},setVaultsKeeps(e,t){e.vaultsKeeps=t},removeKeepFromVault(e,t){for(let a=0;a<e.vaultsKeeps.length;a++){let s=e.vaultsKeeps[a];if(s.id==t){e.vaultsKeeps.splice(a,1);break}}}},actions:{register({commit:e,dispatch:t},a){Pe.post("register",a).then(t=>{e("setUser",t.data),Ke.push({name:"home"})}).catch(e=>{console.log("[registration failed] :",e)})},authenticate({commit:e,dispatch:t}){Pe.get("authenticate").then(a=>{e("setUser",a.data),Ke.push({name:"home"}),t("getUsersVaults",a.data.id),t("getUsersKeeps",a.data.id)}).catch(e=>{console.log("not authenticated")})},login({commit:e,dispatch:t},a){Pe.post("login",a).then(a=>{e("setUser",a.data),Ke.push({name:"home"}),t("getUsersVaults",a.data.id),t("getUsersKeeps",a.data.id)}).catch(e=>{console.log("Login Failed")})},logout({commit:e}){Pe.delete("logout").then(t=>{t.data&&(e("resetState",Ie),Ke.push({name:"login"}))})},createAccount({commit:e}){Pe.delete("logout").then(t=>{t.data&&(e("resetState",Ie),Ke.push({name:"login",params:{signUp:"true"}}))})},getAuthor({commit:e},t){Pe.get(`${t}`).then(t=>{e("setAuthor",t.data)}).catch(e=>console.log(e))},getKeeps({dispatch:e,commit:t,state:a},s){if("first"!=s||a.keeps.length||a.user.id)if("first"!=s||a.keeps.length)Ee.get(`keeps/${s}`).then(e=>{t("setKeeps",e.data)}).catch(e=>console.log(e));else{let e=0;Ee.get(`keeps/${e}`).then(e=>{t("setKeeps",e.data)}).catch(e=>console.log(e))}else{let e=-1;Ee.get(`keeps/${e}`).then(e=>{t("setKeeps",e.data)}).catch(e=>console.log(e))}},getUsersKeeps({commit:e},t){Ee.get(`keeps/byUser/${t}`).then(t=>{e("setUsersKeeps",t.data)}).catch(e=>console.log(e))},deleteKeep({commit:e},t){Ee.delete("keeps",{data:t}).then(a=>{if(a.data)return e("removeKeep",t.id);console.log("error: unsuccessful delete")}).catch(e=>{console.log("error:",e)})},postKeep({commit:e},t){Ee.post("keeps",t).then(t=>{console.log("inserted keep into db!"),e("addKeep",t.data)}).catch(e=>console.log("ERROR",e))},incrementViews({},e){Ee.put(`keeps/${e}`).then(e=>{e.data&&console.log("success")}).catch(e=>console.log(e))},getUsersVaults({commit:e},t){Ee.get(`vaults/${t}`).then(t=>{e("setUsersVaults",t.data)}).catch(e=>console.log(e))},createVault({commit:e},t){Ee.post("vaults",t).then(t=>{e("addVault",t.data)})},deleteVault({commit:e},t){Ee.delete("vaults",{data:t}).then(a=>{if(a.data)return e("removeVault",t.id);console.log("error: unsuccessful delete")}).catch(e=>{console.log("error:",e)})},getVaultsKeeps({commit:e},t){Ee.get(`vaultKeeps/${t}`).then(t=>{e("setVaultsKeeps",t.data)}).catch(e=>console.log(e))},removeKeepFromVault({commit:e},t){Ee.delete("vaultKeeps",{data:t}).then(a=>{if(a.data)return e("removeKeepFromVault",t.keepId);console.log("error: unsuccessful delete")}).catch(e=>console.log(e))},addKeepToVault({commit:e},t){Ee.post("vaultKeeps",t).then(e=>{if(e.data)return console.log("success");console.log("already in your database")}).catch(e=>console.log(e))}}}),Ae=a("ce5b"),Se=a.n(Ae);a("bf40");s["default"].use(Se.a),s["default"].config.productionTip=!1,new s["default"]({router:Ke,store:Oe,render:e=>e(c)}).$mount("#app")},"5f79":function(e,t,a){"use strict";var s=a("fc75"),r=a.n(s);r.a},9970:function(e,t,a){"use strict";var s=a("a341"),r=a.n(s);r.a},a129:function(e,t,a){"use strict";var s=a("f7d9"),r=a.n(s);r.a},a341:function(e,t,a){},ac3c:function(e,t,a){"use strict";var s=a("15f9"),r=a.n(s);r.a},b8d4:function(e,t,a){},c21b:function(e,t,a){},e23b:function(e,t,a){},f701:function(e,t,a){"use strict";var s=a("e23b"),r=a.n(s);r.a},f7d9:function(e,t,a){},fc75:function(e,t,a){}});
//# sourceMappingURL=app.f183151e.js.map